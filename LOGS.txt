webapp_energia  | fail: Microsoft.EntityFrameworkCore.Database.Command[20102]
webapp_energia  |       Failed executing DbCommand (148ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
webapp_energia  |       CREATE TABLE [SistemasRenovables] (
webapp_energia  |           [IdSistema] int NOT NULL IDENTITY,
webapp_energia  | Unhandled exception. Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot create the foreign key "FK_Sistemas_Tipos" with the SET NULL referential action, because one or more referencing columns are not nullable.
webapp_energia  | Could not create constraint or index. See previous errors.
webapp_energia  |    at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
webapp_energia  |    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
webapp_energia  |    at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
webapp_energia  |           [IdCliente] int NOT NULL,
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.Execute(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.<>c.<ExecuteNonQuery>b__3_1(DbContext _, ValueTuple`6 s)
webapp_energia  |    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.CreateTables()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
webapp_energia  |    at Program.<Main>$(String[] args) in /src/Program.cs:line 33
webapp_energia  | ClientConnectionId:d9b89737-ecb4-4781-aac2-81a7627d71ee
webapp_energia  | Error Number:1761,State:0,Class:16
webapp_energia  |           [IdTipoSistema] int NOT NULL,
webapp_energia  |           [Descripcion] nvarchar(500) NULL,
webapp_energia  |           [FechaInstalacion] date NOT NULL,
webapp_energia  |           [CapacidadKW] decimal(10,2) NULL,
webapp_energia  |           [Estado] nvarchar(50) NULL DEFAULT N'Activo',
webapp_energia  |           [Departamento] nvarchar(max) NULL,
webapp_energia  |           [Provincia] nvarchar(max) NULL,
webapp_energia  |           [DireccionExacta] nvarchar(max) NULL,
webapp_energia  |           [Referencia] nvarchar(max) NULL,
webapp_energia  |           [Observaciones] nvarchar(max) NULL,
webapp_energia  |           CONSTRAINT [PK__Sistemas__48B026F4B2C7885A] PRIMARY KEY ([IdSistema]),
webapp_energia  |           CONSTRAINT [FK_Sistemas_Clientes] FOREIGN KEY ([IdCliente]) REFERENCES [Clientes] ([IdCliente]),
webapp_energia  |           CONSTRAINT [FK_Sistemas_Tipos] FOREIGN KEY ([IdTipoSistema]) REFERENCES [TiposSistema] ([IdTipoSistema]) ON DELETE SET NULL
webapp_energia  |       );
webapp_energia  | Unhandled exception. Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot create the foreign key "FK_Sistemas_Tipos" with the SET NULL referential action, because one or more referencing columns are not nullable.
webapp_energia  | Could not create constraint or index. See previous errors.
webapp_energia  |    at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
webapp_energia  |    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
webapp_energia  |    at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
webapp_energia  |    at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.Execute(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.<>c.<ExecuteNonQuery>b__3_1(DbContext _, ValueTuple`6 s)
webapp_energia  |    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel)
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.CreateTables()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
webapp_energia  |    at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
webapp_energia  |    at Program.<Main>$(String[] args) in /src/Program.cs:line 33
webapp_energia  | ClientConnectionId:d9b89737-ecb4-4781-aac2-81a7627d71ee
webapp_energia  | Error Number:1761,State:0,Class:16
webapp_energia exited with code 139